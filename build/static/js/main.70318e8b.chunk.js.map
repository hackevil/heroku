{"version":3,"sources":["App.js","pages/Browse/Browse.js","pages/Browse/Carousel.js","pages/Browse/CategoryBrowse.js","functions/clear.js","components/Footer.js","functions/guid.js","pages/Browse/Tile.js","pages/Login/Login.js","components/Logout.js","components/Nav.js","components/PageMenu.js","pages/Search/Search.js","pages/Settings/Settings.js","pages/Settings/SettingsLoginForm.js","pages/Browse/SortMenu.js","theme.js","functions/uuid.js","pages/View/View.js","index.js"],"names":["App","props","state","auth","sessionStorage","getItem","localStorage","server","setItem","version","clear","this","to","guid","Component","Browse","isLoaded","metadata","url","axios","get","then","response","setState","data","catch","error","console","status","Swal","fire","title","text","icon","confirmButtonText","result","isConfirmed","history","push","cancelButtonText","showCancelButton","isDismissed","location","reload","request","gallery","className","color","theme","palette","primary","main","size","Carousel","length","map","category","categoryInfo","name","children","item","id","src","posterPath","alt","Typography","CategoryBrowse","match","params","page","parseInt","queryString","parse","search","range","undefined","sort","pages","Math","ceil","PageMenu","thisprops","window","caches","keys","names","forEach","delete","styles","makeStyles","footer__container","backgroundColor","background","paper","width","height","display","alignItems","justifyContent","formControl","margin","spacing","minWidth","Footer","classes","href","target","FormControl","Select","value","onChange","event","displayEmpty","selectEmpty","inputProps","MenuItem","_p8","s","p","random","toString","substr","Tile","Login","password","signup","tempServer","origin","startsWith","username","handleTempServerChange","bind","handlePassChange","handleUserChange","handleServerSubmit","handleSubmit","handleSignup","dismissError","success","content","evt","preventDefault","message","log","Container","component","maxWidth","CssBaseline","Avatar","avatar","variant","form","onSubmit","noValidate","style","data-test","onClick","TextField","required","fullWidth","label","autoComplete","autoFocus","disabled","type","Button","submit","textAlign","withStyles","marginTop","flexDirection","secondary","withTheme","Logout","setTimeout","Nav","accounts","categories","account_list","category_list","NavUI","root","grow","flexGrow","breakpoints","up","position","borderRadius","shape","fade","common","marginRight","marginLeft","searchIcon","padding","pointerEvents","inputRoot","inputInput","paddingLeft","transition","transitions","create","browse","useState","setSearch","AppBar","Toolbar","noWrap","hash","InputBase","placeholder","input","BrowseMenu","ThemeMenu","AccountMenu","React","menuAnchorEl","setMenuAnchorEl","handleClose","aria-controls","aria-haspopup","currentTarget","Menu","anchorEl","keepMounted","anchorOrigin","vertical","horizontal","transformOrigin","open","Boolean","onClose","Divider","light","pic","includes","IconButton","aria-label","pathname","Pagination","count","renderItem","PaginationItem","Search","query","q","Settings","secret","handleAccessTokenChange","handleClientIDChange","handleClientSecretChange","handleRefreshTokenChange","handleCategoryTypeChange","handleCategoryNameChange","handleCategoryIdChange","handleAddCategory","handleRemoveCategory","handleAccountUsernameChange","handleAccountPasswordChange","handleAccountPicChange","handleAddAccount","handleRemoveAccount","handleSecretChange","handleTMDBAPIKeyChange","handleCloudflareChange","handleBuildIntervalChange","handleTranscodedChange","handleSignupChange","handleAuthChange","handleRestart","config","postConfig","tempSecret","secret_key","Object","post","removeItem","configCopy","access_token","client_id","client_secret","refresh_token","split","n","splice","chars","i","charAt","floor","tmdb_api_key","cloudflare","build_interval","transcoded","Form","token_expiry","select","account","fontSize","SettingsLoginForm","SortMenu","lightTheme","createMuiTheme","warning","default","darkTheme","draculaTheme","nordDark","nordLight","uuidv4","replace","c","crypto","getRandomValues","Uint8Array","View","fetchData","a","mimeType","sources","document","documentElement","setProperty","MovieView","source","poster","backdropPath","options","controls","overview","Rating","voteAverage","max","readOnly","PlayerMenu","TVBView","ChildrenMenu","TVSView","isHash","preload","child","uuid","marginBottom","PlaylistMenu","navigator","clipboard","writeText","m3u8","element","createElement","setAttribute","encodeURIComponent","body","appendChild","click","removeChild","handleClick","ReactDOM","render","ThemeProvider","exact","path","getElementById"],"mappings":"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","file":"static/js/main.70318e8b.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nimport { Redirect } from \"react-router-dom\";\n\nimport { clear, guid, version } from \"./components\";\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\n      server:\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\n    };\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem(\"_VERSION\")) {\n      localStorage.setItem(\"_VERSION\", version);\n    }\n    if (localStorage.getItem(\"_VERSION\") !== version) {\n      clear();\n      localStorage.setItem(\"_VERSION\", version);\n    }\n  }\n\n  render() {\n    let { auth, server } = this.state;\n    return auth && server ? (\n      <Redirect to=\"/browse\" key={guid()} />\n    ) : (\n      <Redirect to=\"/login\" key={guid()} />\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\nimport \"@sweetalert2/theme-dark/dark.css\";\n\nimport axios from \"axios\";\n\nimport {\n  Carousel,\n  clear,\n  Footer,\n  Tile,\n  Nav,\n  theme,\n  version,\n} from \"../../components\";\n\nexport default class Browse extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\n      isLoaded: false,\n      metadata: {},\n      server:\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\n    };\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem(\"_VERSION\")) {\n      localStorage.setItem(\"_VERSION\", version);\n    }\n    if (localStorage.getItem(\"_VERSION\") !== version) {\n      clear();\n      localStorage.setItem(\"_VERSION\", version);\n    }\n\n    let { auth, server } = this.state;\n    let url = `${server}/api/v1/metadata?a=${auth}&r=0:16&s=popularity-des`;\n\n    axios\n      .get(url)\n      .then((response) =>\n        this.setState({\n          isLoaded: true,\n          metadata: response.data,\n        })\n      )\n      .catch((error) => {\n        console.error(error);\n        if (error.response) {\n          if (error.response.status === 401) {\n            Swal.fire({\n              title: \"Error!\",\n              text: \"Your credentials are invalid!\",\n              icon: \"error\",\n              confirmButtonText: \"Login\",\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              }\n            });\n          } else if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: `Something went wrong while communicating with the backend! Is '${server}' the correct address?`,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        } else if (error.request) {\n          if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: `libDrive could not communicate with the backend! Is '${server}' the correct address?`,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        }\n      });\n  }\n\n  render() {\n    let { isLoaded, metadata } = this.state;\n\n    let gallery;\n    if (\n      sessionStorage.getItem(\"gallery\") == \"tile\" ||\n      localStorage.getItem(\"gallery\") == \"tile\"\n    ) {\n      gallery = true;\n    } else if (\n      sessionStorage.getItem(\"gallery\") == \"carousel\" ||\n      localStorage.getItem(\"gallery\") == \"carousel\"\n    ) {\n      gallery = false;\n    } else {\n      sessionStorage.setItem(\"gallery\", \"carousel\");\n      localStorage.setItem(\"gallery\", \"carousel\");\n      gallery = false;\n    }\n\n    return isLoaded ? (\n      <div className=\"Browse\">\n        <Nav />\n        {gallery ? (\n          <Tile metadata={metadata} />\n        ) : (\n          <Carousel metadata={metadata} />\n        )}\n        <Footer />\n      </div>\n    ) : (\n      <div className=\"Loading\">\n        <ClipLoader color={theme.palette.primary.main} size={75} />\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { Typography } from \"@material-ui/core\";\n\nimport { guid } from \"../../components\";\nimport \"./Carousel.css\";\n\nexport default class Carousel extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      metadata: this.props.metadata,\n      server:\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\n    };\n  }\n\n  render() {\n    let { metadata, server } = this.state;\n\n    return (\n      <div className=\"Carousel\">\n        {metadata.length\n          ? metadata.map((category) => (\n              <div className=\"carousel__category\" key={guid()}>\n                <Link\n                  to={`/browse/${category.categoryInfo.name}`}\n                  key={guid()}\n                  className=\"carousel__category__title no_decoration_link\"\n                >\n                  {category.categoryInfo.name}\n                </Link>\n                <div className=\"carousel__items\">\n                  {category.children.length\n                    ? category.children.map((item) => (\n                        <figure className=\"carousel__item__figure\" key={guid()}>\n                          <Link to={`/view/${item.id}`} key={guid()}>\n                            <img\n                              src={\n                                item.posterPath ||\n                                `${server}/api/v1/image/poster?text=${item.title}&extention=jpeg`\n                              }\n                              key={guid()}\n                              className=\"carousel__item__poster\"\n                              alt={item.title}\n                            />\n                          </Link>\n                          <Typography\n                            className=\"carousel__item__title\"\n                            key={guid()}\n                          >\n                            {item.title}\n                          </Typography>\n                        </figure>\n                      ))\n                    : null}\n                </div>\n              </div>\n            ))\n          : null}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\nimport \"@sweetalert2/theme-dark/dark.css\";\n\nimport axios from \"axios\";\nimport queryString from \"query-string\";\n\nimport { Footer, Nav, PageMenu, SortMenu, Tile, theme } from \"../../components\";\n\nexport default class CategoryBrowse extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\n      category: this.props.match.params.category,\n      isLoaded: false,\n      metadata: {},\n      page: parseInt(queryString.parse(this.props.location.search).page) || 1,\n      range: `${\n        queryString.parse(this.props.location.search).page === undefined\n          ? \"0:16\"\n          : `${\n              (parseInt(queryString.parse(this.props.location.search).page) -\n                1) *\n              16\n            }:${\n              parseInt(queryString.parse(this.props.location.search).page) * 16\n            }`\n      }`,\n      server:\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\n      sort:\n        queryString.parse(this.props.location.search).sort || \"alphabet-asc\",\n    };\n  }\n\n  componentDidMount() {\n    let { auth, category, range, server, sort } = this.state;\n    let url = `${server}/api/v1/metadata?a=${auth}&c=${category}&r=${range}&s=${sort}`;\n\n    axios\n      .get(url)\n      .then((response) =>\n        this.setState({\n          isLoaded: true,\n          metadata: response.data,\n          pages: Math.ceil(response.data[0][\"length\"] / 16),\n        })\n      )\n      .catch((error) => {\n        console.error(error);\n        if (error.response) {\n          if (error.response.status === 401) {\n            Swal.fire({\n              title: \"Error!\",\n              text: \"Your credentials are invalid!\",\n              icon: \"error\",\n              confirmButtonText: \"Login\",\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              }\n            });\n          } else if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: `Something went wrong while communicating with the backend! Is '${server}' the correct address?`,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        } else if (error.request) {\n          if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: `libDrive could not communicate with the backend! Is '${server}' the correct address?`,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        }\n      });\n  }\n\n  render() {\n    let { isLoaded, metadata, page, pages, sort } = this.state;\n\n    return isLoaded ? (\n      <div className=\"CategoryBrowse\">\n        <Nav />\n        <Tile metadata={metadata} />\n        <PageMenu\n          props={{\n            page: page,\n            pages: pages,\n            sort: sort,\n            thisprops: this.props,\n          }}\n        />\n        <SortMenu props={{ thisprops: this.props }} />\n        <Footer />\n      </div>\n    ) : (\n      <div className=\"Loading\">\n        <ClipLoader color={theme.palette.primary.main} size={75} />\n      </div>\n    );\n  }\n}\n","export default function clear() {\n  if (\"caches\" in window) {\n    caches.keys().then((names) => {\n      names.forEach((name) => {\n        caches.delete(name);\n      });\n    });\n    window.location.reload(true);\n  }\n}\n","import React from \"react\";\n\nimport {\n  FormControl,\n  FormHelperText,\n  InputLabel,\n  MenuItem,\n  Select,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { version } from \"../components\";\n\nimport \"./Footer.css\";\n\nconst styles = makeStyles((theme) => ({\n  footer__container: {\n    backgroundColor: theme.palette.background.paper,\n    width: \"100%\",\n    height: \"75px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  formControl: {\n    margin: theme.spacing(2),\n    minWidth: 90,\n  },\n}));\n\nexport default function Footer() {\n  const classes = styles();\n\n  const handleSelect = (event) => {\n    sessionStorage.setItem(\"gallery\", event.target.value);\n    localStorage.setItem(\"gallery\", event.target.value);\n    window.location.reload();\n  };\n  let gallery =\n    sessionStorage.getItem(\"gallery\") ||\n    localStorage.getItem(\"gallery\") ||\n    \"carousel\";\n\n  return (\n    <footer className={classes.footer__container} id=\"footer__container\">\n      <a href=\"https://github.com/libDrive/libDrive\" target=\"_blank\">\n        <img\n          src=\"/images/github.png\"\n          className=\"footer__github\"\n          height=\"48px\"\n          alt=\"github-logo\"\n        />\n      </a>\n      <a\n        className=\"no_decoration_link footer__text\"\n        href=\"https://eliasbenb.github.io\"\n        target=\"_blank\"\n      >\n        {` 2021 Copyright: Elias Benbourenane - v${version}`}\n      </a>\n      <div className=\"gallery__select\">\n        <FormControl className={classes.formControl}>\n          <Select\n            value={gallery}\n            onChange={handleSelect}\n            displayEmpty\n            className={classes.selectEmpty}\n            inputProps={{ \"aria-label\": \"Without label\" }}\n          >\n            <MenuItem value={\"carousel\"}>Carousel</MenuItem>\n            <MenuItem value={\"tile\"}>Tile</MenuItem>\n          </Select>\n        </FormControl>\n      </div>\n    </footer>\n  );\n}\n","export default function guid() {\n  function _p8(s) {\n    var p = (Math.random().toString(16) + \"000000000\").substr(2, 8);\n    return s ? \"-\" + p.substr(0, 4) + \"-\" + p.substr(4, 4) : p;\n  }\n  return _p8() + _p8(true) + _p8(true) + _p8();\n}\n","import React, { Component } from \"react\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { Typography } from \"@material-ui/core\";\n\nimport { guid } from \"../../components\";\nimport \"./Tile.css\";\n\nexport default class Tile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      metadata: this.props.metadata,\n      server:\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\n    };\n  }\n\n  render() {\n    let { metadata, server } = this.state;\n\n    return (\n      <div className=\"Tile\">\n        {metadata.length\n          ? metadata.map((category) => (\n              <div className=\"tile__category\" key={guid()}>\n                <Link\n                  to={`/browse/${category.categoryInfo.name}`}\n                  key={guid()}\n                  className=\"tile__category__title no_decoration_link\"\n                >\n                  {category.categoryInfo.name}\n                </Link>\n                <div className=\"tile__items\">\n                  {category.children.length\n                    ? category.children.map((item) => (\n                        <figure className=\"tile__item__figure\" key={guid()}>\n                          <Link to={`/view/${item.id}`} key={guid()}>\n                            <img\n                              src={\n                                item.posterPath ||\n                                `${server}/api/v1/image/poster?text=${item.title}&extention=jpeg`\n                              }\n                              key={guid()}\n                              className=\"tile__item__poster\"\n                              alt={item.title}\n                            />\n                          </Link>\n                          <Typography\n                            className=\"tile__item__title\"\n                            key={guid()}\n                          >\n                            {item.title}\n                          </Typography>\n                        </figure>\n                      ))\n                    : null}\n                </div>\n              </div>\n            ))\n          : null}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport {\n  Avatar,\n  Button,\n  Container,\n  CssBaseline,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\n\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\nimport \"@sweetalert2/theme-dark/dark.css\";\n\nimport axios from \"axios\";\n\nimport { clear, version } from \"../../components\";\n\nconst styles = (theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n});\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auth: \"\",\n      error: \"\",\n      page: false,\n      password: \"\",\n      server: \"\",\n      signup: false,\n      tempServer: window.location.origin.startsWith(\"app://-\")\n        ? \"\"\n        : window.location.origin,\n      username: \"\",\n    };\n\n    this.handleTempServerChange = this.handleTempServerChange.bind(this);\n    this.handlePassChange = this.handlePassChange.bind(this);\n    this.handleUserChange = this.handleUserChange.bind(this);\n    this.handleServerSubmit = this.handleServerSubmit.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleSignup = this.handleSignup.bind(this);\n    this.dismissError = this.dismissError.bind(this);\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem(\"_VERSION\")) {\n      localStorage.setItem(\"_VERSION\", version);\n    }\n    if (localStorage.getItem(\"_VERSION\") !== version) {\n      clear();\n      localStorage.setItem(\"_VERSION\", version);\n    }\n\n    axios\n      .get(`${window.location.origin}/api/v1/auth?rules=signup`)\n      .then((response) => {\n        if (response.status === 200) {\n          localStorage.setItem(\"auth\", \"0\");\n          localStorage.setItem(\"server\", window.location.origin);\n          sessionStorage.setItem(\"auth\", \"0\");\n          sessionStorage.setItem(\"server\", window.location.origin);\n          this.props.history.push(response.data.success.content);\n        } else if (response.status === 202) {\n          this.setState({ signup: true });\n        }\n      });\n  }\n\n  dismissError() {\n    this.setState({ error: \"\" });\n  }\n\n  handleServerSubmit(evt) {\n    evt.preventDefault();\n    let { tempServer } = this.state;\n    if (!tempServer) {\n      return this.setState({ error: \"Server is required\" });\n    }\n    if (!tempServer.startsWith(\"http\")) {\n      tempServer = `https://${tempServer}`;\n    }\n    axios\n      .get(`${tempServer}/api/v1/auth?rules=signup`)\n      .then((response) => {\n        if (response.status === 200) {\n          localStorage.setItem(\"auth\", \"0\");\n          localStorage.setItem(\"server\", tempServer);\n          sessionStorage.setItem(\"auth\", \"0\");\n          sessionStorage.setItem(\"server\", tempServer);\n          this.props.history.push(response.data.success.content);\n        } else if (response.status === 202) {\n          this.setState({ signup: true, page: true });\n        }\n      })\n      .catch((error) => {\n        console.error(error);\n        try {\n          Swal.fire({\n            title: \"Error!\",\n            text: error.response.data.error.message,\n            icon: \"error\",\n            confirmButtonText: \"OK\",\n          });\n        } catch {\n          Swal.fire({\n            title: \"Error!\",\n            text: `You were unable to communicate with the backend. Are you sure ${tempServer} is the correct server?`,\n            icon: \"error\",\n            confirmButtonText: \"OK\",\n          });\n        }\n      });\n  }\n\n  handleSubmit(evt) {\n    evt.preventDefault();\n    let { auth, password, server, tempServer, username } = this.state;\n    if (!tempServer) {\n      return this.setState({ error: \"Server is required\" });\n    }\n    if (!tempServer.startsWith(\"http\")) {\n      tempServer = `https://${tempServer}`;\n    }\n\n    axios\n      .get(`${tempServer}/api/v1/auth?u=${username}&p=${password}`)\n      .then((response) => {\n        localStorage.setItem(\"server\", tempServer);\n        sessionStorage.setItem(\"server\", tempServer);\n        localStorage.setItem(\"auth\", response.data.auth);\n        sessionStorage.setItem(\"auth\", response.data.auth);\n        this.props.history.push(\"/\");\n      })\n      .catch((error) => {\n        console.error(error);\n        try {\n          Swal.fire({\n            title: \"Error!\",\n            text: error.response.data.error.message,\n            icon: \"error\",\n            confirmButtonText: \"OK\",\n          });\n        } catch {\n          Swal.fire({\n            title: \"Error!\",\n            text: `Something went wrong while communicating with the backend ${tempServer}`,\n            icon: \"error\",\n            confirmButtonText: \"OK\",\n          });\n        }\n      });\n    return this.setState({ error: \"\" });\n  }\n\n  handleSignup() {\n    let { password, tempServer, username } = this.state;\n    if (!username) {\n      return this.setState({ error: \"Username is required\" });\n    }\n    if (!password) {\n      return this.setState({ error: \"Password is required\" });\n    }\n\n    axios\n      .get(`${tempServer}/api/v1/signup?u=${username}&p=${password}`)\n      .then((response) => {\n        console.log(response);\n        localStorage.setItem(\"server\", tempServer);\n        sessionStorage.setItem(\"server\", tempServer);\n        localStorage.setItem(\"auth\", response.data.success.content.auth);\n        sessionStorage.setItem(\"auth\", response.data.success.content.auth);\n        this.props.history.push(\"/\");\n      })\n      .catch((error) => {\n        try {\n          Swal.fire({\n            title: \"Error!\",\n            text: error.response.data.error.message,\n            icon: \"error\",\n            confirmButtonText: \"OK\",\n          });\n        } catch {\n          Swal.fire({\n            title: \"Error!\",\n            text: `Something went wrong while communicating with the backend ${tempServer}`,\n            icon: \"error\",\n            confirmButtonText: \"OK\",\n          });\n        }\n      });\n    return this.setState({ error: \"\" });\n  }\n\n  handleTempServerChange(evt) {\n    this.setState({\n      tempServer: evt.target.value,\n    });\n  }\n\n  handleUserChange(evt) {\n    this.setState({\n      username: evt.target.value,\n    });\n  }\n\n  handlePassChange(evt) {\n    this.setState({\n      password: evt.target.value,\n    });\n  }\n\n  render() {\n    let { error, password, page, tempServer, username } = this.state;\n    const { classes } = this.props;\n\n    return !page ? (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <form\n            className={classes.form}\n            onSubmit={this.handleServerSubmit}\n            noValidate\n          >\n            {error && (\n              <div style={{}}>\n                <h3 data-test=\"error\" onClick={this.dismissError}>\n                  <button onClick={this.dismissError}></button>\n                  {error}\n                </h3>\n              </div>\n            )}\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"server\"\n              label=\"Server\"\n              name=\"server\"\n              autoComplete=\"server\"\n              onChange={this.handleTempServerChange}\n              value={tempServer}\n              autoFocus\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n            >\n              Next\n            </Button>\n          </form>\n        </div>\n      </Container>\n    ) : (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <form\n            className={classes.form}\n            onSubmit={this.handleSubmit}\n            noValidate\n          >\n            {error && (\n              <div style={{}}>\n                <h3 data-test=\"error\" onClick={this.dismissError}>\n                  <button onClick={this.dismissError}></button>\n                  {error}\n                </h3>\n              </div>\n            )}\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"server\"\n              label=\"Server\"\n              name=\"server\"\n              autoComplete=\"server\"\n              onChange={this.handleTempServerChange}\n              value={tempServer}\n              autoFocus\n              disabled\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"username\"\n              label=\"Username\"\n              name=\"username\"\n              autoComplete=\"username\"\n              onChange={this.handleUserChange}\n              value={username}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange={this.handlePassChange}\n              value={password}\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n            >\n              Sign In\n            </Button>\n            {this.state.signup ? (\n              <div className=\"Signup\" style={{ textAlign: \"center\" }}>\n                <Button\n                  type=\"button\"\n                  onClick={this.handleSignup}\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  className={classes.submit}\n                >\n                  Sign Up\n                </Button>\n                <Typography variant=\"body1\">\n                  Be aware that the owner of this server can view your\n                  credentials!\n                </Typography>\n              </div>\n            ) : (\n              <div className=\"Signup\"></div>\n            )}\n          </form>\n        </div>\n      </Container>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(Login);\n","import React, { Component } from \"react\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\nimport { guid, theme } from \"../components\";\r\n\r\nexport default class Logout extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { isLoaded: false };\r\n  }\r\n\r\n  componentDidMount() {\r\n    localStorage.clear();\r\n    sessionStorage.clear();\r\n    setTimeout(() => this.setState({ isLoaded: true }), 500);\r\n  }\r\n\r\n  render() {\r\n    let { isLoaded } = this.state;\r\n\r\n    return isLoaded ? (\r\n      <Redirect to=\"/login\" key={guid()} />\r\n    ) : (\r\n      <div className=\"Loading\">\r\n        <ClipLoader color={theme.palette.primary.main} size={75} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component, useState } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport {\r\n  AppBar,\r\n  Button,\r\n  Divider,\r\n  InputBase,\r\n  Menu,\r\n  MenuItem,\r\n  Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { fade, makeStyles } from \"@material-ui/core/styles\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport Brightness6Icon from \"@material-ui/icons/Brightness6\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { theme, guid } from \"../components\";\r\n\r\nexport default class Nav extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      accounts: {},\r\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\r\n      categories: {},\r\n      isLoaded: false,\r\n      server:\r\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { auth, server } = this.state;\r\n    let url = `${server}/api/v1/environment?a=${auth}`;\r\n\r\n    axios.get(url).then((response) =>\r\n      this.setState({\r\n        accounts: response.data.account_list,\r\n        categories: response.data.category_list,\r\n        isLoaded: true,\r\n      })\r\n    );\r\n  }\r\n\r\n  render() {\r\n    let { accounts, categories, isLoaded } = this.state;\r\n\r\n    return isLoaded ? (\r\n      <div className=\"Nav\">\r\n        <NavUI\r\n          props={{\r\n            categories: categories,\r\n            accounts: accounts,\r\n          }}\r\n        />\r\n      </div>\r\n    ) : (\r\n      <div className=\"Nav\">\r\n        <NavUI\r\n          props={{\r\n            categories: [],\r\n            accounts: [],\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    color: theme.palette.text.primary,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  title: {\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"block\",\r\n    },\r\n  },\r\n  search: {\r\n    position: \"relative\",\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.main, 0.15),\r\n    \"&:hover\": {\r\n      backgroundColor: fade(theme.palette.common.main, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: \"auto\",\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    pointerEvents: \"none\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  inputRoot: {\r\n    color: \"inherit\",\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create(\"width\"),\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: \"20ch\",\r\n    },\r\n  },\r\n  browse: {\r\n    marginRight: \"15px\",\r\n  },\r\n}));\r\n\r\nexport function NavUI(props) {\r\n  const classes = styles();\r\n\r\n  const [search, setSearch] = useState(\"\");\r\n  const searchChange = (evt) => {\r\n    setSearch(evt.target.value);\r\n  };\r\n\r\n  const searchSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    window.location.hash = `#/search/${search}`;\r\n  };\r\n\r\n  return (\r\n    <div className={classes.grow}>\r\n      <AppBar position=\"static\" className={classes.root}>\r\n        <Toolbar>\r\n          <Link to=\"/\" className=\"no_decoration_link\">\r\n            <Typography className={classes.title} variant=\"h6\" noWrap>\r\n              libDrive\r\n            </Typography>\r\n          </Link>\r\n          <form className={classes.search} onSubmit={searchSubmit}>\r\n            <div className={classes.searchIcon}>\r\n              <SearchIcon />\r\n            </div>\r\n            <InputBase\r\n              placeholder=\"Search\"\r\n              classes={{\r\n                root: classes.inputRoot,\r\n                input: classes.inputInput,\r\n              }}\r\n              inputProps={{ \"aria-label\": \"search\" }}\r\n              onChange={searchChange}\r\n            />\r\n          </form>\r\n          <div className={classes.grow} />\r\n          <BrowseMenu props={props.props.categories} />\r\n          <ThemeMenu />\r\n          <AccountMenu props={props.props.accounts} />\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function LoadingNavUI() {\r\n  const classes = styles();\r\n\r\n  const [search, setSearch] = useState(\"\");\r\n  const searchChange = (evt) => {\r\n    setSearch(evt.target.value);\r\n  };\r\n\r\n  const searchSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    window.location.hash = `#/search/${search}`;\r\n  };\r\n\r\n  return (\r\n    <div className={classes.grow}>\r\n      <AppBar position=\"static\" className={classes.root}>\r\n        <Toolbar>\r\n          <Link to=\"/\" className=\"no_decoration_link\">\r\n            <Typography className={classes.title} variant=\"h6\" noWrap>\r\n              libDrive\r\n            </Typography>\r\n          </Link>\r\n          <form className={classes.search} onSubmit={searchSubmit}>\r\n            <div className={classes.searchIcon}>\r\n              <SearchIcon />\r\n            </div>\r\n            <InputBase\r\n              placeholder=\"Search\"\r\n              classes={{\r\n                root: classes.inputRoot,\r\n                input: classes.inputInput,\r\n              }}\r\n              inputProps={{ \"aria-label\": \"search\" }}\r\n              onChange={searchChange}\r\n            />\r\n          </form>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function BrowseMenu(props) {\r\n  const [menuAnchorEl, setMenuAnchorEl] = React.useState(null);\r\n  const classes = styles();\r\n\r\n  const handleClick = (event) => {\r\n    setMenuAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setMenuAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.browse}>\r\n      <Button\r\n        aria-controls=\"browse-menu\"\r\n        aria-haspopup=\"true\"\r\n        onClick={handleClick}\r\n      >\r\n        Browse\r\n      </Button>\r\n      <Menu\r\n        id=\"browse-menu\"\r\n        anchorEl={menuAnchorEl}\r\n        keepMounted\r\n        anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n        transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n        open={Boolean(menuAnchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        <Link to={\"/\"} className=\"no_decoration_link\">\r\n          <MenuItem onClick={handleClose}>Home Page</MenuItem>\r\n        </Link>\r\n        <Divider light />\r\n        {props.props.length\r\n          ? props.props.map((category) => (\r\n              <Link\r\n                to={`/browse/${category.name}`}\r\n                key={guid()}\r\n                className=\"no_decoration_link\"\r\n              >\r\n                <MenuItem onClick={handleClose}>{category.name}</MenuItem>\r\n              </Link>\r\n            ))\r\n          : null}\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function AccountMenu(props) {\r\n  const [menuAnchorEl, setMenuAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setMenuAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setMenuAnchorEl(null);\r\n  };\r\n\r\n  const handleRebuild = () => {\r\n    let auth = sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\");\r\n    let server =\r\n      sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\");\r\n\r\n    let url = `${server}/api/v1/rebuild?a=${auth}`;\r\n    axios\r\n      .get(url)\r\n      .then((response) =>\r\n        Swal.fire({\r\n          title: \"Success!\",\r\n          text: \"libDrive's metadata is being rebuilt...\",\r\n          icon: \"success\",\r\n          confirmButtonText: \"OK\",\r\n        })\r\n      )\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (auth == null || server == null) {\r\n          this.props.history.push(\"/login\");\r\n        } else if (error.response) {\r\n          if (error.response.status === 401) {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: \"Your credentials are invalid!\",\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              }\r\n            });\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text:\r\n                \"Something went wrong while communicating with the backend!\",\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              cancelButtonText: \"Retry\",\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        } else if (error.request) {\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: `libDrive could not communicate with the backend! Is ${server} the correct address?`,\r\n            icon: \"error\",\r\n            confirmButtonText: \"Logout\",\r\n            cancelButtonText: \"Retry\",\r\n            showCancelButton: true,\r\n          }).then((result) => {\r\n            if (result.isConfirmed) {\r\n              this.props.history.push(\"/logout\");\r\n            } else if (result.isDismissed) {\r\n              location.reload();\r\n            }\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  let pic = <AccountCircle />;\r\n  if (\r\n    props.props.pic &&\r\n    (props.props.pic.includes(\"http\") || props.props.pic.includes(\"www\"))\r\n  ) {\r\n    pic = <img src={props.props.pic} width=\"32px\" alt=\"profile-pic\"></img>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-label=\"more\"\r\n        aria-controls=\"account-menu\"\r\n        aria-haspopup=\"true\"\r\n        onClick={handleClick}\r\n      >\r\n        {pic}\r\n      </IconButton>\r\n      <Menu\r\n        id=\"account-menu\"\r\n        anchorEl={menuAnchorEl}\r\n        anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n        transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n        keepMounted\r\n        open={Boolean(menuAnchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        <Link to={\"/settings\"} className=\"no_decoration_link\">\r\n          <MenuItem onClick={handleClose}>Settings</MenuItem>\r\n        </Link>\r\n        <MenuItem onClick={handleRebuild}>Rebuild</MenuItem>\r\n        <Link to={\"/logout\"} className=\"no_decoration_link\">\r\n          <MenuItem onClick={handleClose}>Logout</MenuItem>\r\n        </Link>\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function ThemeMenu() {\r\n  const [menuAnchorEl, setMenuAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setMenuAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setMenuAnchorEl(null);\r\n  };\r\n\r\n  const handleLight = () => {\r\n    setMenuAnchorEl(null);\r\n    localStorage.setItem(\"theme\", \"light\");\r\n    sessionStorage.setItem(\"theme\", \"light\");\r\n    window.location.reload();\r\n  };\r\n\r\n  const handleDark = () => {\r\n    setMenuAnchorEl(null);\r\n    localStorage.setItem(\"theme\", \"dark\");\r\n    sessionStorage.setItem(\"theme\", \"dark\");\r\n    window.location.reload();\r\n  };\r\n\r\n  const handleDracula = () => {\r\n    setMenuAnchorEl(null);\r\n    localStorage.setItem(\"theme\", \"dracula\");\r\n    sessionStorage.setItem(\"theme\", \"dracula\");\r\n    window.location.reload();\r\n  };\r\n\r\n  const handleNordDark = () => {\r\n    setMenuAnchorEl(null);\r\n    localStorage.setItem(\"theme\", \"nordDark\");\r\n    sessionStorage.setItem(\"theme\", \"nordDark\");\r\n    window.location.reload();\r\n  };\r\n\r\n  const handleNordLight = () => {\r\n    setMenuAnchorEl(null);\r\n    localStorage.setItem(\"theme\", \"nordLight\");\r\n    sessionStorage.setItem(\"theme\", \"nordLight\");\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-label=\"more\"\r\n        aria-controls=\"theme-menu\"\r\n        aria-haspopup=\"true\"\r\n        onClick={handleClick}\r\n      >\r\n        <Brightness6Icon />\r\n      </IconButton>\r\n      <Menu\r\n        id=\"theme-menu\"\r\n        anchorEl={menuAnchorEl}\r\n        anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n        transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\r\n        keepMounted\r\n        open={Boolean(menuAnchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        <MenuItem onClick={handleLight}>Light</MenuItem>\r\n        <MenuItem onClick={handleDark}>Dark</MenuItem>\r\n        <MenuItem onClick={handleDracula}>Dracula</MenuItem>\r\n        <MenuItem onClick={handleNordDark}>Nord Dark</MenuItem>\r\n        <MenuItem onClick={handleNordLight}>Nord Light</MenuItem>\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\n\nimport { Link, Redirect } from \"react-router-dom\";\n\nimport { Pagination, PaginationItem } from \"@material-ui/lab\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { guid } from \"../components\";\n\nconst styles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      margin: theme.spacing(4),\n    },\n  },\n}));\n\nexport default function PageMenu(props) {\n  let { page, pages, sort, thisprops } = props.props;\n  const classes = styles();\n\n  if (page > pages) {\n    return (\n      <Redirect\n        to={{\n          pathname: thisprops.location.pathname,\n          search: `?page=${pages}&sort=${sort}`,\n        }}\n        key={guid()}\n      />\n    );\n  } else {\n    return (\n      <div className={classes.root}>\n        <Pagination\n          page={page}\n          count={pages}\n          variant=\"outlined\"\n          color=\"primary\"\n          renderItem={(item) =>\n            item.page ? (\n              <Link\n                to={{\n                  pathname: thisprops.location.pathname,\n                  search: `?page=${item.page}&sort=${sort}`,\n                }}\n                key={guid()}\n                className=\"no_decoration_link\"\n              >\n                <PaginationItem {...item} />\n              </Link>\n            ) : (\n              <PaginationItem {...item} />\n            )\n          }\n        />\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\nimport \"@sweetalert2/theme-dark/dark.css\";\n\nimport axios from \"axios\";\n\nimport { clear, Footer, Nav, Carousel, theme, version } from \"../../components\";\n\nexport default class Search extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\n      isLoaded: false,\n      metadata: [],\n      query: this.props.match.params.q,\n      server:\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\n    };\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem(\"_VERSION\")) {\n      localStorage.setItem(\"_VERSION\", version);\n    }\n    if (localStorage.getItem(\"_VERSION\") !== version) {\n      clear();\n      localStorage.setItem(\"_VERSION\", version);\n    }\n\n    let { auth, query, server } = this.state;\n    let url = `${server}/api/v1/metadata?a=${auth}&q=${query}`;\n\n    axios\n      .get(url)\n      .then((response) =>\n        this.setState({\n          isLoaded: true,\n          metadata: response.data,\n        })\n      )\n      .catch((error) => {\n        console.error(error);\n        if (error.response) {\n          if (error.response.status === 401) {\n            Swal.fire({\n              title: \"Error!\",\n              text: \"Your credentials are invalid!\",\n              icon: \"error\",\n              confirmButtonText: \"Login\",\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              }\n            });\n          } else if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: `Something went wrong while communicating with the backend! Is '${server}' the correct address?`,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        } else if (error.request) {\n          if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: `libDrive could not communicate with the backend! Is '${server}' the correct address?`,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        }\n      });\n  }\n\n  render() {\n    let { isLoaded, metadata } = this.state;\n\n    return isLoaded ? (\n      <div className=\"Search\">\n        <Nav />\n        <Carousel metadata={metadata} />\n        <Footer />\n      </div>\n    ) : (\n      <div className=\"Loading\">\n        <ClipLoader color={theme.palette.primary.main} size={75} />\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport {\n  Button,\n  IconButton,\n  MenuItem,\n  Typography,\n  TextField,\n} from \"@material-ui/core\";\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\";\nimport RemoveCircleOutlineIcon from \"@material-ui/icons/RemoveCircleOutline\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\n\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\nimport \"@sweetalert2/theme-dark/dark.css\";\n\nimport axios from \"axios\";\n\nimport { clear, Footer, guid, Nav, theme, version } from \"../../components\";\n\nconst styles = (theme) => ({\n  Form: {\n    textAlign: \"center\",\n    \"& .MuiTextField-root\": {\n      width: \"30ch\",\n      margin: theme.spacing(1),\n      textAlign: \"left\",\n    },\n    \"& .MuiTypography-root\": {\n      margin: \"30px 30px\",\n    },\n  },\n  submit: {\n    margin: theme.spacing(4, 0, 2),\n    width: \"20ch\",\n  },\n});\n\nexport class Settings extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\n      error: \"\",\n      isLoaded: false,\n      secret: sessionStorage.getItem(\"secret\"),\n      server:\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\n    };\n\n    this.handleAccessTokenChange = this.handleAccessTokenChange.bind(this);\n    this.handleClientIDChange = this.handleClientIDChange.bind(this);\n    this.handleClientSecretChange = this.handleClientSecretChange.bind(this);\n    this.handleRefreshTokenChange = this.handleRefreshTokenChange.bind(this);\n    this.handleCategoryTypeChange = this.handleCategoryTypeChange.bind(this);\n    this.handleCategoryNameChange = this.handleCategoryNameChange.bind(this);\n    this.handleCategoryIdChange = this.handleCategoryIdChange.bind(this);\n    this.handleAddCategory = this.handleAddCategory.bind(this);\n    this.handleRemoveCategory = this.handleRemoveCategory.bind(this);\n    this.handleAccountUsernameChange = this.handleAccountUsernameChange.bind(\n      this\n    );\n    this.handleAccountPasswordChange = this.handleAccountPasswordChange.bind(\n      this\n    );\n    this.handleAccountPicChange = this.handleAccountPicChange.bind(this);\n    this.handleAddAccount = this.handleAddAccount.bind(this);\n    this.handleRemoveAccount = this.handleRemoveAccount.bind(this);\n    this.handleSecretChange = this.handleSecretChange.bind(this);\n    this.handleTMDBAPIKeyChange = this.handleTMDBAPIKeyChange.bind(this);\n    this.handleCloudflareChange = this.handleCloudflareChange.bind(this);\n    this.handleBuildIntervalChange = this.handleBuildIntervalChange.bind(this);\n    this.handleTranscodedChange = this.handleTranscodedChange.bind(this);\n    this.handleSignupChange = this.handleSignupChange.bind(this);\n    this.handleAuthChange = this.handleAuthChange.bind(this);\n    this.dismissError = this.dismissError.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleRestart = this.handleRestart.bind(this);\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem(\"_VERSION\")) {\n      localStorage.setItem(\"_VERSION\", version);\n    }\n    if (localStorage.getItem(\"_VERSION\") !== version) {\n      clear();\n      localStorage.setItem(\"_VERSION\", version);\n    }\n\n    let { secret, server } = this.state;\n\n    if (sessionStorage.getItem(\"secret\") == null) {\n      this.props.history.push(\"/settings/login\");\n    } else {\n      axios\n        .get(`${server}/api/v1/config?secret=${secret}`)\n        .then((response) =>\n          this.setState({\n            config: response.data,\n            isLoaded: true,\n            postConfig: response.data,\n            tempSecret: response.data.secret_key,\n          })\n        )\n        .catch((error) => {\n          console.error(error);\n          if (error.response) {\n            if (error.response.status === 401) {\n              Swal.fire({\n                title: \"Error!\",\n                text: \"Your credentials are invalid!\",\n                icon: \"error\",\n                confirmButtonText: \"Login\",\n              }).then((result) => {\n                if (result.isConfirmed) {\n                  this.props.history.push(\"/logout\");\n                }\n              });\n            } else if (!server) {\n              this.props.history.push(\"/logout\");\n            } else {\n              Swal.fire({\n                title: \"Error!\",\n                text: `Something went wrong while communicating with the backend! Is '${server}' the correct address?`,\n                icon: \"error\",\n                confirmButtonText: \"Logout\",\n                cancelButtonText: \"Retry\",\n                showCancelButton: true,\n              }).then((result) => {\n                if (result.isConfirmed) {\n                  this.props.history.push(\"/logout\");\n                } else if (result.isDismissed) {\n                  location.reload();\n                }\n              });\n            }\n          } else if (error.request) {\n            if (!server) {\n              this.props.history.push(\"/logout\");\n            } else {\n              Swal.fire({\n                title: \"Error!\",\n                text: `libDrive could not communicate with the backend! Is '${server}' the correct address?`,\n                icon: \"error\",\n                confirmButtonText: \"Logout\",\n                cancelButtonText: \"Retry\",\n                showCancelButton: true,\n              }).then((result) => {\n                if (result.isConfirmed) {\n                  this.props.history.push(\"/logout\");\n                } else if (result.isDismissed) {\n                  location.reload();\n                }\n              });\n            }\n          }\n        });\n    }\n  }\n\n  dismissError() {\n    this.setState({ error: \"\" });\n  }\n\n  handleRestart(evt) {\n    evt.preventDefault();\n    let { secret, server } = this.state;\n\n    axios\n      .get(`${server}/api/v1/restart?secret=${secret}`)\n      .then((response) => {\n        Swal.fire({\n          title: \"Success!\",\n          text:\n            \"libDrive is being restarted, this might take some time, so the app won't load\",\n          icon: \"success\",\n          confirmButtonText: \"OK\",\n        });\n      })\n      .catch((error) => {\n        console.error(error);\n        Swal.fire({\n          title: \"Success!\",\n          text:\n            \"libDrive is being restarted, this might take some time, so the app won't load\",\n          icon: \"success\",\n          confirmButtonText: \"OK\",\n        });\n      });\n  }\n\n  handleSubmit(evt) {\n    evt.preventDefault();\n    let { secret, server } = this.state;\n\n    if (Object.keys(this.state.postConfig).length !== 14) {\n      Swal.fire({\n        title: \"Error!\",\n        text: \"1 or more fields weren't filled out.\",\n        icon: \"error\",\n        confirmButtonText: \"OK\",\n      });\n      return\n    }\n\n    axios\n      .post(`${server}/api/v1/config?secret=${secret}`, this.state.postConfig)\n      .then((response) => {\n        Swal.fire({\n          title: \"Success!\",\n          text:\n            \"The config has been updated on the backend! The backend might need to be restarted for some changes to take effect.\",\n          icon: \"success\",\n          confirmButtonText: \"OK\",\n        });\n      })\n      .catch((error) => {\n        console.error(error);\n        if (error.response) {\n          if (error.response.status === 401) {\n            Swal.fire({\n              title: \"Error!\",\n              text: \"Your credentials are invalid!\",\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n            }).then((result) => {\n              if (result.isConfirmed) {\n                sessionStorage.removeItem(\"secret\");\n                this.props.history.push(\"/settings/login\");\n              }\n            });\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text:\n                \"Something went wrong while communicating with the backend!\",\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        } else if (error.request) {\n          Swal.fire({\n            title: \"Error!\",\n            text: `libDrive could not communicate with the backend! Is ${server} the correct address?`,\n            icon: \"error\",\n            confirmButtonText: \"Logout\",\n            cancelButtonText: \"Retry\",\n            showCancelButton: true,\n          }).then((result) => {\n            if (result.isConfirmed) {\n              this.props.history.push(\"/logout\");\n            } else if (result.isDismissed) {\n              location.reload();\n            }\n          });\n        }\n      });\n  }\n\n  handleAccessTokenChange(evt) {\n    var value = evt.target.value;\n    var configCopy = this.state.postConfig;\n    configCopy.access_token = value;\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleClientIDChange(evt) {\n    var value = evt.target.value;\n    var configCopy = this.state.postConfig;\n    configCopy.client_id = value;\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleClientSecretChange(evt) {\n    var value = evt.target.value;\n    var configCopy = this.state.postConfig;\n    configCopy.client_secret = value;\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleRefreshTokenChange(evt) {\n    var value = evt.target.value;\n    var configCopy = this.state.postConfig;\n    configCopy.refresh_token = value;\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleCategoryTypeChange(evt) {\n    var value = evt.target.value.split(\"_\")[0];\n    var n = evt.target.value.split(\"_\")[1];\n    var configCopy = this.state.postConfig;\n    configCopy.category_list[n].type = value;\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleCategoryNameChange(evt) {\n    var value = evt.target.value;\n    var n = evt.target.id.split(\"_\")[1];\n    var configCopy = this.state.postConfig;\n    configCopy.category_list[n].name = value;\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleCategoryIdChange(evt) {\n    var value = evt.target.value;\n    var n = evt.target.id.split(\"_\")[1];\n    var configCopy = this.state.postConfig;\n    configCopy.category_list[n].id = value;\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleAddCategory(evt) {\n    var configCopy = this.state.postConfig;\n    configCopy.category_list.push({ type: \"\", name: \"\", id: \"\" });\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleRemoveCategory(evt) {\n    var n = evt.target.id.split(\"_\")[1];\n    var configCopy = this.state.postConfig;\n    configCopy.category_list.splice(n, 1);\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleAccountUsernameChange(evt) {\n    var value = evt.target.value;\n    var n = evt.target.id.split(\"_\")[1];\n    var configCopy = this.state.postConfig;\n    configCopy.account_list[n].username = value;\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleAccountPasswordChange(evt) {\n    var value = evt.target.value;\n    var n = evt.target.id.split(\"_\")[1];\n    var configCopy = this.state.postConfig;\n    configCopy.account_list[n].password = value;\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleAccountPicChange(evt) {\n    var value = evt.target.value;\n    var n = evt.target.id.split(\"_\")[1];\n    var configCopy = this.state.postConfig;\n    configCopy.account_list[n].pic = value;\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleAddAccount(evt) {\n    var configCopy = this.state.postConfig;\n    var text = \"\";\n    var chars = \"abcdefghijklmnopqrstuvwxyz0123456789\";\n    for (var i = 0; i < 50; i++) {\n      text += chars.charAt(Math.floor(Math.random() * chars.length));\n    }\n    configCopy.account_list.push({\n      username: \"\",\n      password: \"\",\n      pic: \"\",\n      auth: text,\n    });\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleRemoveAccount(evt) {\n    var n = evt.target.id.split(\"_\")[1];\n    var configCopy = this.state.postConfig;\n    configCopy.account_list.splice(n, 1);\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleSecretChange(evt) {\n    var value = evt.target.value;\n    var configCopy = this.state.postConfig;\n    configCopy.secret_key = value;\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleTMDBAPIKeyChange(evt) {\n    var value = evt.target.value;\n    var configCopy = this.state.postConfig;\n    configCopy.tmdb_api_key = value;\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleCloudflareChange(evt) {\n    var value = evt.target.value;\n    var configCopy = this.state.postConfig;\n    configCopy.cloudflare = value;\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleBuildIntervalChange(evt) {\n    var value = parseInt(evt.target.value);\n    var configCopy = this.state.postConfig;\n    configCopy.build_interval = value;\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleTranscodedChange(evt) {\n    var value = evt.target.value;\n    var configCopy = this.state.postConfig;\n    configCopy.transcoded = value;\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleSignupChange(evt) {\n    var value = evt.target.value;\n    var configCopy = this.state.postConfig;\n    configCopy.signup = value;\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  handleAuthChange(evt) {\n    var value = evt.target.value;\n    var configCopy = this.state.postConfig;\n    configCopy.auth = value;\n    this.setState({\n      postConfig: configCopy,\n    });\n  }\n\n  render() {\n    let { config, isLoaded } = this.state;\n    const { classes } = this.props;\n\n    return isLoaded ? (\n      <div className=\"Settings\">\n        <Nav />\n        <form\n          className={classes.Form}\n          noValidate\n          autoComplete=\"off\"\n          onSubmit={this.handleSubmit}\n        >\n          <Typography variant=\"h3\">Google Credentials</Typography>\n          <TextField\n            className=\"TextField\"\n            id=\"access_token\"\n            label=\"Access Token\"\n            type=\"text\"\n            variant=\"outlined\"\n            value={this.state.postConfig.access_token}\n            onChange={this.handleAccessTokenChange}\n            required\n          />\n          <TextField\n            className=\"TextField\"\n            id=\"client_id\"\n            label=\"Client ID\"\n            type=\"text\"\n            variant=\"outlined\"\n            value={this.state.postConfig.client_id}\n            onChange={this.handleClientIDChange}\n            required\n          />\n          <TextField\n            className=\"TextField\"\n            id=\"client_secret\"\n            label=\"Client Secret\"\n            type=\"text\"\n            variant=\"outlined\"\n            value={this.state.postConfig.client_secret}\n            onChange={this.handleClientSecretChange}\n            required\n          />\n          <TextField\n            className=\"TextField\"\n            id=\"refresh_token\"\n            label=\"Refresh Token\"\n            type=\"text\"\n            variant=\"outlined\"\n            value={this.state.postConfig.refresh_token}\n            onChange={this.handleRefreshTokenChange}\n            required\n          />\n          <TextField\n            className=\"TextField\"\n            id=\"token_expiry\"\n            label=\"Token Expiry\"\n            type=\"text\"\n            variant=\"outlined\"\n            value={this.state.postConfig.token_expiry}\n            disabled\n          />\n          <br />\n          <Typography variant=\"h3\">Categories</Typography>\n          {config.category_list.length ? (\n            config.category_list.map((category, n) => (\n              <div style={{ margin: \"30px\" }} key={n}>\n                <TextField\n                  className=\"TextField\"\n                  id={`category-type_${n}`}\n                  select\n                  label=\"Select Type\"\n                  variant=\"outlined\"\n                  value={`${this.state.postConfig.category_list[n].type}_${n}`}\n                  onChange={this.handleCategoryTypeChange}\n                >\n                  <MenuItem key={guid()} value={`Movies_${n}`}>\n                    Movies\n                  </MenuItem>\n                  <MenuItem key={guid()} value={`TV Shows_${n}`}>\n                    TV Shows\n                  </MenuItem>\n                </TextField>\n                <TextField\n                  className=\"TextField\"\n                  id={`category-name_${n}`}\n                  label=\"Name\"\n                  variant=\"outlined\"\n                  value={this.state.postConfig.category_list[n].name}\n                  onChange={this.handleCategoryNameChange}\n                  required\n                />\n                <TextField\n                  className=\"TextField\"\n                  id={`category-id_${n}`}\n                  label=\"Folder ID\"\n                  variant=\"outlined\"\n                  value={this.state.postConfig.category_list[n].id}\n                  onChange={this.handleCategoryIdChange}\n                  required\n                />\n                <br />\n                <IconButton\n                  aria-label=\"remove\"\n                  id={`category-remove_${n}`}\n                  onClick={this.handleRemoveCategory}\n                >\n                  <RemoveCircleOutlineIcon id={`category-remove_${n}`} />\n                </IconButton>\n                <IconButton aria-label=\"add\" onClick={this.handleAddCategory}>\n                  <AddCircleOutlineIcon id={`category-add_${n}`} />\n                </IconButton>\n              </div>\n            ))\n          ) : (\n            <IconButton aria-label=\"add\" onClick={this.handleAddCategory}>\n              <AddCircleOutlineIcon />\n            </IconButton>\n          )}\n          <Typography variant=\"h3\">Accounts</Typography>\n          {config.account_list.length ? (\n            config.account_list.map((account, n) => (\n              <div style={{ margin: \"30px\" }} key={n}>\n                <TextField\n                  className=\"TextField\"\n                  id={`account-username_${n}`}\n                  label=\"Username\"\n                  variant=\"outlined\"\n                  value={this.state.postConfig.account_list[n].username}\n                  onChange={this.handleAccountUsernameChange}\n                  required\n                />\n                <TextField\n                  className=\"TextField\"\n                  id={`account-password_${n}`}\n                  label=\"Password\"\n                  type=\"password\"\n                  variant=\"outlined\"\n                  value={this.state.postConfig.account_list[n].password}\n                  onChange={this.handleAccountPasswordChange}\n                  required\n                />\n                <TextField\n                  className=\"TextField\"\n                  id={`account-pic_${n}`}\n                  label=\"Picture\"\n                  variant=\"outlined\"\n                  value={this.state.postConfig.account_list[n].pic}\n                  onChange={this.handleAccountPicChange}\n                />\n                <TextField\n                  className=\"TextField\"\n                  id={`account-auth_${n}`}\n                  label=\"Auth\"\n                  variant=\"outlined\"\n                  value={this.state.postConfig.account_list[n].auth}\n                  disabled\n                />\n                <br />\n                <IconButton\n                  aria-label=\"remove\"\n                  id={`account-remove_${n}`}\n                  onClick={this.handleRemoveAccount}\n                >\n                  <RemoveCircleOutlineIcon id={`account-remove_${n}`} />\n                </IconButton>\n                <IconButton aria-label=\"add\" onClick={this.handleAddAccount}>\n                  <AddCircleOutlineIcon id={`account-add_${n}`} />\n                </IconButton>\n                <div\n                  style={{\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                  }}\n                >\n                  {(() => {\n                    if (config.account_list[n].pic.length > 0) {\n                      return (\n                        <img\n                          src={config.account_list[n].pic}\n                          width=\"32px\"\n                          alt=\"profile-pic\"\n                        />\n                      );\n                    } else {\n                      return <AccountCircle style={{ fontSize: \"32px\" }} />;\n                    }\n                  })()}\n                </div>\n              </div>\n            ))\n          ) : (\n            <IconButton aria-label=\"add\" onClick={this.handleAddAccount}>\n              <AddCircleOutlineIcon />\n            </IconButton>\n          )}\n          <Typography variant=\"h3\">Extras</Typography>\n          <div style={{ margin: \"30px\" }}>\n            <TextField\n              className=\"TextField\"\n              id=\"secret_key\"\n              label=\"Secret Key\"\n              type=\"password\"\n              variant=\"outlined\"\n              value={this.state.postConfig.secret_key}\n              onChange={this.handleSecretChange}\n              required\n            />\n            <TextField\n              className=\"TextField\"\n              id=\"tmbd_api_key\"\n              label=\"TMDB API Key\"\n              type=\"text\"\n              variant=\"outlined\"\n              value={this.state.postConfig.tmdb_api_key}\n              onChange={this.handleTMDBAPIKeyChange}\n              required\n            />\n            <TextField\n              className=\"TextField\"\n              id=\"cloudflare\"\n              label=\"Cloudflare\"\n              type=\"text\"\n              variant=\"outlined\"\n              value={this.state.postConfig.cloudflare}\n              onChange={this.handleCloudflareChange}\n            />\n            <TextField\n              className=\"TextField\"\n              id=\"build_interval\"\n              label=\"Build Interval\"\n              type=\"number\"\n              variant=\"outlined\"\n              value={this.state.postConfig.build_interval}\n              onChange={this.handleBuildIntervalChange}\n              required\n            />\n            <br />\n            <TextField\n              className=\"TextField\"\n              id=\"transcoded\"\n              select\n              label=\"Transcoded\"\n              variant=\"outlined\"\n              value={this.state.postConfig.transcoded}\n              onChange={this.handleTranscodedChange}\n              required\n            >\n              <MenuItem key={guid()} value={true}>\n                True\n              </MenuItem>\n              <MenuItem key={guid()} value={false}>\n                False\n              </MenuItem>\n            </TextField>\n            <TextField\n              className=\"TextField\"\n              id=\"signup\"\n              select\n              label=\"Sign Up\"\n              variant=\"outlined\"\n              value={this.state.postConfig.signup}\n              onChange={this.handleSignupChange}\n              required\n            >\n              <MenuItem key={guid()} value={true}>\n                True\n              </MenuItem>\n              <MenuItem key={guid()} value={false}>\n                False\n              </MenuItem>\n            </TextField>\n            <TextField\n              className=\"TextField\"\n              id=\"auth\"\n              select\n              label=\"Authentication\"\n              variant=\"outlined\"\n              value={this.state.postConfig.auth}\n              onChange={this.handleAuthChange}\n              required\n            >\n              <MenuItem key={guid()} value={true}>\n                True\n              </MenuItem>\n              <MenuItem key={guid()} value={false}>\n                False\n              </MenuItem>\n            </TextField>\n          </div>\n          <br />\n          <div style={{ margin: \"30px\" }}>\n            <Button\n              style={{ marginRight: \"20px\" }}\n              fullWidth\n              variant=\"contained\"\n              color=\"secondary\"\n              className={classes.submit}\n              target=\"_blank\"\n              href=\"https://libdrive-config.netlify.app/\"\n            >\n              Create Config\n            </Button>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n            >\n              Submit\n            </Button>\n            <Button\n              style={{ marginLeft: \"20px\" }}\n              fullWidth\n              variant=\"contained\"\n              color=\"secondary\"\n              className={classes.submit}\n              onClick={this.handleRestart}\n            >\n              Restart\n            </Button>\n          </div>\n        </form>\n        <Footer />\n      </div>\n    ) : (\n      <div className=\"Loading\">\n        <ClipLoader color={theme.palette.primary.main} size={75} />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(Settings);\n","import React, { Component } from \"react\";\n\nimport {\n  Avatar,\n  Button,\n  Container,\n  CssBaseline,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\n\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\nimport \"@sweetalert2/theme-dark/dark.css\";\n\nimport axios from \"axios\";\n\nimport { clear, Nav, version } from \"../../components\";\n\nconst styles = (theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n});\n\nclass SettingsLoginForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\n      secret: \"\",\n      server:\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\n    };\n\n    this.handleSecretChange = this.handleSecretChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem(\"_VERSION\")) {\n      localStorage.setItem(\"_VERSION\", version);\n    }\n    if (localStorage.getItem(\"_VERSION\") !== version) {\n      clear();\n      localStorage.setItem(\"_VERSION\", version);\n    }\n  }\n\n  handleSubmit(evt) {\n    evt.preventDefault();\n    let { secret, server } = this.state;\n\n    axios\n      .get(`${server}/api/v1/config?secret=${secret}`)\n      .then((response) => {\n        sessionStorage.setItem(\"secret\", secret);\n        this.props.history.push(\"/settings\");\n      })\n      .catch((error) => {\n        console.error(error);\n        if (error.response) {\n          if (error.response.status === 401) {\n            Swal.fire({\n              title: \"Error!\",\n              text: \"Your credentials are invalid!\",\n              icon: \"error\",\n              confirmButtonText: \"OK\",\n            });\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text:\n                \"Something went wrong while communicating with the backend!\",\n              icon: \"error\",\n              confirmButtonText: \"OK\",\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        } else if (error.request) {\n          Swal.fire({\n            title: \"Error!\",\n            text:\n              \"libDrive could not communicate with the backend. Is ${server} the correct address?\",\n            icon: \"error\",\n            confirmButtonText: \"Logout\",\n            cancelButtonText: \"Retry\",\n            showCancelButton: true,\n          }).then((result) => {\n            if (result.isConfirmed) {\n              this.props.history.push(\"/logout\");\n            } else if (result.isDismissed) {\n              location.reload();\n            }\n          });\n        }\n      });\n  }\n\n  handleSecretChange(evt) {\n    this.setState({\n      secret: evt.target.value,\n    });\n  }\n\n  render() {\n    let { secret } = this.state;\n    const { classes } = this.props;\n\n    return (\n      <div className=\"SettingsLoginForm\">\n        <Nav />\n        <Container component=\"main\" maxWidth=\"xs\">\n          <CssBaseline />\n          <div className={classes.paper}>\n            <Avatar className={classes.avatar}>\n              <LockOutlinedIcon />\n            </Avatar>\n            <Typography component=\"h1\" variant=\"h5\">\n              Settings Login\n            </Typography>\n            <form\n              className={classes.form}\n              onSubmit={this.handleSubmit}\n              noValidate\n            >\n              <TextField\n                variant=\"outlined\"\n                margin=\"normal\"\n                fullWidth\n                id=\"secret\"\n                label=\"Secret\"\n                name=\"secret\"\n                type=\"password\"\n                autoComplete=\"secret\"\n                onChange={this.handleSecretChange}\n                value={secret}\n                required\n                autoFocus\n              />\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n              >\n                Sign In\n              </Button>\n            </form>\n          </div>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(SettingsLoginForm);\n","import React from \"react\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { Button, Menu, MenuItem } from \"@material-ui/core\";\n\nimport { guid } from \"../../components\";\n\nimport \"./SortMenu.css\";\n\nexport default function SortMenu(props) {\n  const [menuAnchorEl, setMenuAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setMenuAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setMenuAnchorEl(null);\n  };\n\n  let { thisprops } = props.props;\n\n  return (\n    <div className=\"SortMenu\">\n      <div className=\"sort__container\">\n        <Button\n          aria-controls=\"sort-menu\"\n          aria-haspopup=\"true\"\n          onClick={handleClick}\n          variant=\"outlined\"\n          color=\"primary\"\n        >\n          Sort\n        </Button>\n        <Menu\n          id=\"sort-menu\"\n          anchorEl={menuAnchorEl}\n          keepMounted\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n          transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n          open={Boolean(menuAnchorEl)}\n          onClose={handleClose}\n        >\n          <Link\n            to={{\n              pathname: thisprops.location.pathname,\n              search: `?sort=alphabet-asc`,\n            }}\n            key={guid()}\n            className=\"no_decoration_link\"\n          >\n            <MenuItem>Alphabet Ascending</MenuItem>\n          </Link>\n          <Link\n            to={{\n              pathname: thisprops.location.pathname,\n              search: `?sort=alphabet-des`,\n            }}\n            key={guid()}\n            className=\"no_decoration_link\"\n          >\n            <MenuItem>Alphabet Descending</MenuItem>\n          </Link>\n          <Link\n            to={{\n              pathname: thisprops.location.pathname,\n              search: `?sort=date-asc`,\n            }}\n            key={guid()}\n            className=\"no_decoration_link\"\n          >\n            <MenuItem>Date Ascending</MenuItem>\n          </Link>\n          <Link\n            to={{\n              pathname: thisprops.location.pathname,\n              search: `?sort=date-des`,\n            }}\n            key={guid()}\n            className=\"no_decoration_link\"\n          >\n            <MenuItem>Date Descending</MenuItem>\n          </Link>\n          <Link\n            to={{\n              pathname: thisprops.location.pathname,\n              search: `?sort=popularity-asc`,\n            }}\n            key={guid()}\n            className=\"no_decoration_link\"\n          >\n            <MenuItem>Popularity Ascending</MenuItem>\n          </Link>\n          <Link\n            to={{\n              pathname: thisprops.location.pathname,\n              search: `?sort=popularity-des`,\n            }}\n            key={guid()}\n            className=\"no_decoration_link\"\n          >\n            <MenuItem>Popularity Descending</MenuItem>\n          </Link>\n          <Link\n            to={{\n              pathname: thisprops.location.pathname,\n              search: `?sort=vote-asc`,\n            }}\n            key={guid()}\n            className=\"no_decoration_link\"\n          >\n            <MenuItem>Vote Ascending</MenuItem>\n          </Link>\n          <Link\n            to={{\n              pathname: thisprops.location.pathname,\n              search: `?sort=vote-des`,\n            }}\n            key={guid()}\n            className=\"no_decoration_link\"\n          >\n            <MenuItem>Vote Descending</MenuItem>\n          </Link>\n          <Link\n            to={{\n              pathname: thisprops.location.pathname,\n              search: `?sort=random`,\n            }}\n            key={guid()}\n            className=\"no_decoration_link\"\n          >\n            <MenuItem>Random</MenuItem>\n          </Link>\n        </Menu>\n      </div>\n    </div>\n  );\n}\n","import { createMuiTheme } from \"@material-ui/core/styles\";\r\n\r\nconst lightTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"light\",\r\n    primary: {\r\n      main: \"#4197fe\",\r\n    },\r\n    secondary: {\r\n      main: \"#68a0e5\",\r\n    },\r\n    error: {\r\n      main: \"#d32f2f\",\r\n    },\r\n    warning: {\r\n      main: \"#ff9800\",\r\n    },\r\n    success: {\r\n      main: \"#4caf50\",\r\n    },\r\n    background: {\r\n      default: \"#fafafa\",\r\n      paper: \"#e8e8e8\",\r\n    },\r\n    text: {\r\n      primary: \"#0f0f0f\",\r\n    },\r\n    common: {\r\n      main: \"#000000\",\r\n    },\r\n  },\r\n});\r\n\r\nconst darkTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: {\r\n      main: \"#4197fe\",\r\n    },\r\n    secondary: {\r\n      main: \"#68a0e5\",\r\n    },\r\n    error: {\r\n      main: \"#d32f2f\",\r\n    },\r\n    warning: {\r\n      main: \"#ff9800\",\r\n    },\r\n    success: {\r\n      main: \"#4caf50\",\r\n    },\r\n    background: {\r\n      default: \"#111111\",\r\n      paper: \"#1f1f1f\",\r\n    },\r\n    text: {\r\n      primary: \"#ffffff\",\r\n    },\r\n    common: {\r\n      main: \"#ffffff\",\r\n    },\r\n  },\r\n});\r\n\r\nconst draculaTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: {\r\n      main: \"#6272a4\",\r\n    },\r\n    secondary: {\r\n      main: \"#44475a\",\r\n    },\r\n    error: {\r\n      main: \"#ffb86c\",\r\n    },\r\n    warning: {\r\n      main: \"#ff5555\",\r\n    },\r\n    success: {\r\n      main: \"#50fa7b\",\r\n    },\r\n    background: {\r\n      default: \"#282a36\",\r\n      paper: \"#242630\",\r\n    },\r\n    text: {\r\n      primary: \"#f8f8f2\",\r\n    },\r\n    common: {\r\n      main: \"#6272a4\",\r\n    },\r\n  },\r\n});\r\n\r\nconst nordDark = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: {\r\n      main: \"#5E81AC\",\r\n    },\r\n    secondary: {\r\n      main: \"#88C0D0\",\r\n    },\r\n    error: {\r\n      main: \"#BF616A\",\r\n    },\r\n    warning: {\r\n      main: \"#EBCB8B\",\r\n    },\r\n    success: {\r\n      main: \"#A3BE8C\",\r\n    },\r\n    background: {\r\n      default: \"#2E3440\",\r\n      paper: \"#3B4252\",\r\n    },\r\n    text: {\r\n      primary: \"#ECEFF4\",\r\n    },\r\n    common: {\r\n      main: \"#81A1C1\",\r\n    },\r\n  },\r\n});\r\n\r\nconst nordLight = createMuiTheme({\r\n  palette: {\r\n    type: \"light\",\r\n    primary: {\r\n      main: \"#5E81AC\",\r\n    },\r\n    secondary: {\r\n      main: \"#88C0D0\",\r\n    },\r\n    error: {\r\n      main: \"#BF616A\",\r\n    },\r\n    warning: {\r\n      main: \"#EBCB8B\",\r\n    },\r\n    success: {\r\n      main: \"#A3BE8C\",\r\n    },\r\n    background: {\r\n      default: \"#E5E9F0\",\r\n      paper: \"#D8DEE9\",\r\n    },\r\n    text: {\r\n      primary: \"#2E3440\",\r\n    },\r\n    common: {\r\n      main: \"#5E81AC\",\r\n    },\r\n  },\r\n});\r\n\r\nvar theme;\r\n\r\nif (\r\n  localStorage.getItem(\"theme\") === \"light\" ||\r\n  sessionStorage.getItem(\"theme\") === \"light\"\r\n) {\r\n  theme = lightTheme;\r\n} else if (\r\n  localStorage.getItem(\"theme\") === \"dark\" ||\r\n  sessionStorage.getItem(\"theme\") === \"dark\"\r\n) {\r\n  theme = darkTheme;\r\n} else if (\r\n  localStorage.getItem(\"theme\") === \"dracula\" ||\r\n  sessionStorage.getItem(\"theme\") === \"dracula\"\r\n) {\r\n  theme = draculaTheme;\r\n} else if (\r\n  localStorage.getItem(\"theme\") === \"nordDark\" ||\r\n  sessionStorage.getItem(\"theme\") === \"nordDark\"\r\n) {\r\n  theme = nordDark;\r\n} else if (\r\n  localStorage.getItem(\"theme\") === \"nordLight\" ||\r\n  sessionStorage.getItem(\"theme\") === \"nordLight\"\r\n) {\r\n  theme = nordLight;\r\n} else {\r\n  theme = darkTheme;\r\n  localStorage.setItem(\"theme\", \"dark\");\r\n  sessionStorage.setItem(\"theme\", \"dark\");\r\n}\r\n\r\nexport default theme;\r\n","export default function uuidv4() {\n  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>\n    (\n      c ^\n      (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))\n    ).toString(16)\n  );\n}\n","import React, { Component } from \"react\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { Button, Divider, Menu, MenuItem, Typography } from \"@material-ui/core\";\nimport Rating from \"@material-ui/lab/Rating\";\n\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\nimport \"@sweetalert2/theme-dark/dark.css\";\n\nimport Plyr from \"plyr-react\";\nimport \"plyr-react/dist/plyr.css\";\n\nimport axios from \"axios\";\nimport queryString from \"query-string\";\n\nimport { clear, Footer, Nav, theme, uuid, version } from \"../../components\";\nimport \"./View.css\";\n\nexport default class View extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      server:\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\n      q: parseInt(queryString.parse(this.props.location.search).q) || 0,\n      id: this.props.match.params.id,\n      isLoaded: false,\n      metadata: {},\n      sources: [],\n    };\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem(\"_VERSION\")) {\n      localStorage.setItem(\"_VERSION\", version);\n    }\n    if (localStorage.getItem(\"_VERSION\") !== version) {\n      clear();\n      localStorage.setItem(\"_VERSION\", version);\n    }\n\n    document.documentElement.style.setProperty(\n      \"--plyr-color-main\",\n      theme.palette.primary.main\n    );\n    document.documentElement.style.setProperty(\n      \"--plyr-video-background\",\n      theme.palette.background.default\n    );\n    document.documentElement.style.setProperty(\n      \"--plyr-menu-background\",\n      theme.palette.background.paper\n    );\n    document.documentElement.style.setProperty(\n      \"--plyr-menu-color\",\n      theme.palette.text.primary\n    );\n\n    this.fetchData();\n  }\n\n  fetchData = async () => {\n    let { auth, id, name, q, server } = this.state;\n\n    await axios\n      .get(`${server}/api/v1/metadata?a=${auth}&id=${id}`)\n      .then((response) => {\n        if (response.data.mimeType == \"application/vnd.google-apps.folder\") {\n          id = response.data.children[q].id;\n          name = response.data.children[q].name;\n        } else {\n          name = response.data.name;\n        }\n        this.setState({\n          metadata: response.data,\n        });\n      })\n      .catch((error) => {\n        console.error(error);\n        if (error.response) {\n          if (error.response.status === 401) {\n            Swal.fire({\n              title: \"Error!\",\n              text: \"Your credentials are invalid!\",\n              icon: \"error\",\n              confirmButtonText: \"Login\",\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              }\n            });\n          } else if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: `Something went wrong while communicating with the backend! Is '${server}' the correct address?`,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        } else if (error.request) {\n          if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: `libDrive could not communicate with the backend! Is '${server}' the correct address?`,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        }\n      });\n\n    await axios\n      .get(\n        `${server}/api/v1/stream_map?a=${auth}&id=${id}&name=${name}&server=${server}`\n      )\n      .then((response) => {\n        this.setState({\n          sources: response.data.success.content,\n          isLoaded: true,\n        });\n      })\n      .catch((error) => {\n        console.error(error);\n        if (error.response) {\n          if (error.response.status === 401) {\n            Swal.fire({\n              title: \"Error!\",\n              text: \"Your credentials are invalid!\",\n              icon: \"error\",\n              confirmButtonText: \"Login\",\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              }\n            });\n          } else if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: `Something went wrong while communicating with the backend! Is '${server}' the correct address?`,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        } else if (error.request) {\n          if (!server) {\n            this.props.history.push(\"/logout\");\n          } else {\n            Swal.fire({\n              title: \"Error!\",\n              text: `libDrive could not communicate with the backend! Is '${server}' the correct address?`,\n              icon: \"error\",\n              confirmButtonText: \"Logout\",\n              cancelButtonText: \"Retry\",\n              showCancelButton: true,\n            }).then((result) => {\n              if (result.isConfirmed) {\n                this.props.history.push(\"/logout\");\n              } else if (result.isDismissed) {\n                location.reload();\n              }\n            });\n          }\n        }\n      });\n  };\n\n  render() {\n    let { isLoaded, metadata } = this.state;\n\n    return isLoaded && metadata.type == \"file\" ? (\n      <div className=\"View\">\n        <Nav />\n        <MovieView {...this} />\n        <Footer />\n      </div>\n    ) : isLoaded && metadata.type == \"directory\" && metadata.title ? (\n      <div className=\"View\">\n        <Nav />\n        <TVBView {...this} />\n        <Footer />\n      </div>\n    ) : isLoaded && metadata.type == \"directory\" ? (\n      <div className=\"View\">\n        <Nav />\n        <TVSView {...this} />\n        <Footer />\n      </div>\n    ) : (\n      <div className=\"Loading\">\n        <ClipLoader color={theme.palette.primary.main} size={75} />\n      </div>\n    );\n  }\n}\n\nexport class MovieView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = props.state;\n  }\n\n  render() {\n    let { metadata, server, sources } = this.state;\n\n    return (\n      <div className=\"MovieView\">\n        <div className=\"plyr__component\">\n          <Plyr\n            source={{\n              type: \"video\",\n              poster:\n                metadata.backdropPath ||\n                `${server}/api/v1/image/thumbnail?id=${metadata.id}` ||\n                \"\",\n              sources: sources,\n            }}\n            options={{\n              controls: [\n                \"play\",\n                \"progress\",\n                \"current-time\",\n                \"duration\",\n                \"mute\",\n                \"volume\",\n                \"pip\",\n                \"settings\",\n                \"fullscreen\",\n              ],\n            }}\n          />\n        </div>\n        <div className=\"info__container\">\n          <div className=\"info__left\">\n            <img\n              className=\"info__poster\"\n              src={\n                metadata.posterPath ||\n                `${server}/api/v1/image/poster?text=${metadata.title}&extention=jpeg`\n              }\n            />\n          </div>\n          <div className=\"info__right\">\n            <Typography variant=\"h2\" className=\"info__title\">\n              {metadata.title}\n            </Typography>\n            <Typography\n              variant=\"body1\"\n              className=\"info__overview\"\n              style={{ marginTop: \"30px\" }}\n            >\n              {metadata.overview}\n            </Typography>\n            <div className=\"vote__container\">\n              <Rating\n                name=\"Rating\"\n                value={metadata.voteAverage}\n                max={10}\n                readOnly\n              />\n            </div>\n            <PlayerMenu props={this.state} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport class TVBView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = props.state;\n  }\n\n  render() {\n    let { metadata, server } = this.state;\n\n    return (\n      <div className=\"TVBView\">\n        <div className=\"info__container\">\n          <div className=\"info__left\">\n            <img\n              className=\"info__poster\"\n              src={\n                metadata.posterPath ||\n                `${server}/api/v1/image/poster?text=${metadata.title}&extention=jpeg`\n              }\n            />\n          </div>\n          <div className=\"info__right\">\n            <Typography variant=\"h2\" className=\"info__title\">\n              {metadata.title}\n            </Typography>\n            <Typography\n              variant=\"body1\"\n              className=\"info__overview\"\n              style={{ marginTop: \"30px\" }}\n            >\n              {metadata.overview}\n            </Typography>\n            <div className=\"vote__container\">\n              <Rating\n                name=\"Rating\"\n                value={metadata.voteAverage}\n                max={10}\n                readOnly\n              />\n            </div>\n            <div className=\"buttons__container\">\n              <div className=\"button\">\n                <ChildrenMenu props={this.state} />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport class TVSView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = props.state;\n  }\n\n  render() {\n    let { auth, metadata, server, sources } = this.state;\n    let hash =\n      parseInt(queryString.parse(this.props.props.location.search).q) || 0;\n\n    function isHash(n, hash) {\n      if (n === hash) {\n        return \"pls-playing\";\n      } else {\n        return \"\";\n      }\n    }\n\n    return (\n      <div className=\"TVSView\">\n        <Typography\n          variant=\"h2\"\n          style={{ textAlign: \"center\", marginTop: \"25px\" }}\n        >\n          {metadata.name}\n        </Typography>\n        <Typography\n          variant=\"h5\"\n          style={{ textAlign: \"center\", marginTop: \"15px\" }}\n        >\n          {metadata.children[hash].name}\n        </Typography>\n        <div className=\"plyr__component\">\n          <Plyr\n            preload=\"none\"\n            source={{\n              type: \"video\",\n              poster:\n                metadata.backdropPath ||\n                `${server}/api/v1/image/thumbnail?id=${metadata.children[hash].id}` ||\n                \"\",\n              sources: sources,\n            }}\n            options={{\n              controls: [\n                \"play\",\n                \"progress\",\n                \"current-time\",\n                \"duration\",\n                \"mute\",\n                \"volume\",\n                \"pip\",\n                \"settings\",\n                \"fullscreen\",\n              ],\n            }}\n          />\n          <div className=\"plyr-playlist-wrapper\">\n            <ul className=\"plyr-playlist\">\n              {metadata.children.length\n                ? metadata.children.map((child, n) => (\n                    <li className={isHash(n, hash)} key={n}>\n                      <Link\n                        to={{\n                          pathname: this.props.props.location.pathname,\n                          search: `?q=${n}`,\n                        }}\n                        key={uuid()}\n                      >\n                        <img className=\"plyr-miniposter\" />\n                        {child.name}\n                      </Link>\n                    </li>\n                  ))\n                : null}\n            </ul>\n          </div>\n        </div>\n        <div style={{ textAlign: \"center\", marginBottom: \"5vh\" }}>\n          <PlayerMenu\n            props={{\n              auth: auth,\n              id: metadata.children[hash].id,\n              metadata: metadata.children[hash],\n              server: server,\n            }}\n          />\n          <PlaylistMenu props={this.state} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport function PlayerMenu(props) {\n  const [menuAnchorEl, setMenuAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setMenuAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setMenuAnchorEl(null);\n  };\n\n  let { auth, id, metadata, server } = props.props;\n\n  return (\n    <div className=\"PlayerMenu\" style={{ marginTop: \"30px\" }}>\n      <Button\n        aria-controls=\"player-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n        variant=\"contained\"\n        color=\"primary\"\n      >\n        External Player\n      </Button>\n      <Menu\n        id=\"player-menu\"\n        anchorEl={menuAnchorEl}\n        keepMounted\n        anchorOrigin={{ vertical: \"top\", horizontal: \"left\" }}\n        transformOrigin={{ vertical: \"top\", horizontal: \"left\" }}\n        open={Boolean(menuAnchorEl)}\n        onClose={handleClose}\n      >\n        <a\n          href={`vlc://${server}/api/v1/redirectdownload/${metadata.name}?a=${auth}&id=${id}`}\n          className=\"no_decoration_link\"\n        >\n          <MenuItem onClick={handleClose}>VLC</MenuItem>\n        </a>\n        <a\n          href={`potplayer://${server}/api/v1/redirectdownload/${metadata.name}?a=${auth}&id=${id}`}\n          className=\"no_decoration_link\"\n        >\n          <MenuItem onClick={handleClose}>PotPlayer</MenuItem>\n        </a>\n        <Divider />\n        <MenuItem\n          onClick={() => {\n            navigator.clipboard.writeText(\n              `${server}/api/v1/redirectdownload/${metadata.name}?a=${auth}&id=${id}`\n            );\n            setMenuAnchorEl(null);\n          }}\n        >\n          Copy\n        </MenuItem>\n        <a\n          href={`${server}/api/v1/redirectdownload/${metadata.name}?a=${auth}&id=${id}`}\n          className=\"no_decoration_link\"\n        >\n          <MenuItem onClick={handleClose}>Download</MenuItem>\n        </a>\n      </Menu>\n    </div>\n  );\n}\n\nexport function ChildrenMenu(props) {\n  const [menuAnchorEl, setMenuAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setMenuAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setMenuAnchorEl(null);\n  };\n\n  let { metadata } = props.props;\n\n  return (\n    <div className=\"ChildrenMenu\" style={{ marginTop: \"30px\" }}>\n      <Button\n        aria-controls=\"children-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n        variant=\"contained\"\n        color=\"primary\"\n      >\n        Seasons\n      </Button>\n      <Menu\n        id=\"children-menu\"\n        anchorEl={menuAnchorEl}\n        keepMounted\n        anchorOrigin={{ vertical: \"top\", horizontal: \"left\" }}\n        transformOrigin={{ vertical: \"top\", horizontal: \"left\" }}\n        open={Boolean(menuAnchorEl)}\n        onClose={handleClose}\n      >\n        {metadata.children.length\n          ? metadata.children.map((child) => {\n              if (child.type == \"directory\") {\n                return (\n                  <Link\n                    to={`/view/${child.id}`}\n                    className=\"no_decoration_link\"\n                    key={uuid()}\n                  >\n                    <MenuItem onClick={handleClose}>{child.name}</MenuItem>\n                  </Link>\n                );\n              }\n            })\n          : null}\n      </Menu>\n    </div>\n  );\n}\n\nexport function PlaylistMenu(props) {\n  const handleClick = (props) => {\n    let { auth, metadata, server } = props.props;\n    let m3u8 = \"#EXTM3U\\n\";\n\n    for (var i in metadata.children) {\n      m3u8 += `#EXTINF:0, ${metadata.children[i].name}\\n${server}/api/v1/redirectdownload/${metadata.children[i].name}?a=${auth}&id=${metadata.children[i].id}\\n`;\n    }\n\n    var element = document.createElement(\"a\");\n    element.setAttribute(\n      \"href\",\n      \"data:text/plain;charset=utf-8,\" + encodeURIComponent(m3u8)\n    );\n    element.setAttribute(\"download\", \"playlist.m3u8\");\n    element.style.display = \"none\";\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n  };\n\n  return (\n    <div className=\"PlaylistMenu\" style={{ marginTop: \"30px\" }}>\n      <Button\n        onClick={() => {\n          handleClick(props);\n        }}\n        variant=\"contained\"\n        color=\"primary\"\n      >\n        m3u8 Playlist\n      </Button>\n    </div>\n  );\n}\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter, Route } from \"react-router-dom\";\r\n\r\nimport { CssBaseline } from \"@material-ui/core\";\r\nimport { ThemeProvider } from \"@material-ui/core/styles\";\r\n\r\nimport {\r\n  App,\r\n  Browse,\r\n  CategoryBrowse,\r\n  Login,\r\n  Logout,\r\n  Search,\r\n  Settings,\r\n  SettingsLoginForm,\r\n  theme,\r\n  guid,\r\n  View,\r\n} from \"./components\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n      <Route\r\n        exact\r\n        path={\"/\"}\r\n        render={(props) => <App key={guid()} {...props} />}\r\n      />\r\n      <Route\r\n        exact\r\n        path={\"/browse\"}\r\n        render={(props) => <Browse key={guid()} {...props} />}\r\n      />\r\n      <Route\r\n        exact\r\n        path={\"/browse/:category\"}\r\n        render={(props) => <CategoryBrowse key={guid()} {...props} />}\r\n      />\r\n      <Route\r\n        exact\r\n        path={\"/login\"}\r\n        render={(props) => <Login key={guid()} {...props} />}\r\n      />\r\n      <Route\r\n        exact\r\n        path={\"/logout\"}\r\n        render={(props) => <Logout key={guid()} {...props} />}\r\n      />\r\n      <Route\r\n        exact\r\n        path={\"/search/:q\"}\r\n        render={(props) => <Search key={guid()} {...props} />}\r\n      />\r\n      <Route\r\n        exact\r\n        path={\"/settings\"}\r\n        render={(props) => <Settings key={guid()} {...props} />}\r\n      />\r\n      <Route\r\n        exact\r\n        path={\"/settings/login\"}\r\n        render={(props) => <SettingsLoginForm key={guid()} {...props} />}\r\n      />\r\n      <Route\r\n        exact\r\n        path={\"/view/:id\"}\r\n        render={(props) => <View key={guid()} {...props} />}\r\n      />\r\n    </ThemeProvider>\r\n  </HashRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}